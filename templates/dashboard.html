{{define "extrahead"}}
    <script src='/static/vuejs/vue{{if ne .Config.Mode "develop"}}.min{{end}}.js'></script>
    <script src="/static/clipboard.min.js" async></script>
    <script src="/static/imagewatch.js" async></script>

    {{ .VueTemplates }}
{{end}}
{{define "body"}}
<div class="container theme-showcase" role="main" id='vue_app'>
    <page-header :serverinfo="serverinfo"></page-header>

    <section class="row">
        <div class='col-md-5'>
            <div class="card">
                <div class="card-header" id='statusheading'>
                    <h3 class="card-title">Status</h3>
                    <div id='statusactions'>
                        <button id='downloadkick' class='btn btn-sm btn-outline-light'>Kick task downloader</button>
                        <a id='restart' class='btn btn-sm btn-outline-light' href="/restart-to-websetup">Setup</a>
                    </div>
                </div>
                <div class="card-body">
                    <status id='status'
                        :serverinfo="serverinfo"
                        :idle_workers="idle_workers"
                        :errormsg="errormsg">
                    </status>
                </div>
            </div>
        </div>
        <div class='col-md-7'>
            <div class="card">
                <div class="card-header"><h3 class="card-title">Last rendered image</h3></div>
                <div class="card-body imageholder">
                    <a href='/latest-image'>
                    <img id='last_rendered_image'
                         class='small-last-rendered-image'
                         alt='Last-rendered image'
                         src='/static/latest-image.jpg'>
                     </a>
                </div>
            </div>
        </div>
    </section>

    <section class="row table-responsive">
        <worker-table
            :workers="current_workers"
            :server="serverinfo.server"
            :selected_worker_ids="selected_worker_ids"
            :all_workers_selected="all_workers_selected"
            @worker-selected="onWorkerSelected"
            @toggle-all-workers-selected="toggleSelectAllWorkers"
        ></worker-table>
    </section>
</div>

<script src="/static/dashboard.js"></script>
{{end}}
